"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[627],{4891:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AgentCard=void 0;const l=n(5578),a=n(3542),r=n(7919),i=n(1184),o=n(2784),s=n(3015);t.AgentCard=({agent:e,role:t})=>{var n;const c=(0,s.getNamedModelLinks)(e),u=e.thumbnail({targetDimensions:r.thumbnailTargetDimensions});return o.createElement(a.Card,{className:"text-center"},o.createElement(a.CardHeader,{tag:"h6"},o.createElement("div",null,e.name),c.length>0?o.createElement("div",{className:"mt-1",style:{fontSize:"x-small"}},c):null),o.createElement(a.CardBody,null,o.createElement("img",{src:null!==(n=null===u||void 0===u?void 0:u.src)&&void 0!==n?n:l.Image.placeholderSrc(r.thumbnailTargetDimensions),style:{maxHeight:r.thumbnailTargetDimensions.height,maxWidth:r.thumbnailTargetDimensions.width},title:e.name})),(null===u||void 0===u?void 0:u.rights)?o.createElement(a.CardFooter,null,o.createElement(i.RightsParagraph,{material:"Image",rights:u.rights,style:{fontSize:"x-small",marginBottom:0}})):null)}},4147:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AgentsGallery=void 0;const l=n(2784),a=n(4891);t.AgentsGallery=({agents:e})=>l.createElement(l.Fragment,null,e.map((e=>l.createElement("div",{key:e.uri,style:{marginLeft:"20px",marginBottom:"20px",width:"400px"}},l.createElement(a.AgentCard,{agent:e})))))},6966:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersBadges=void 0;const l=n(2784),a=n(141),r=n(4671);t.FiltersBadges=({facets:e,filters:t})=>l.createElement(l.Fragment,null,t.map(((t,n)=>(0,r.visitFilter)(t,{visitCollectionValueFilter:(e,t)=>l.createElement(a.ValueFilterBadges,{facet:t,filter:e,key:n}),visitInstitutionValueFilter:(e,t)=>l.createElement(a.ValueFilterBadges,{facet:t,filter:e,key:n}),visitStringPropertyValueFilter:(e,t)=>l.createElement(a.ValueFilterBadges,{facet:t,filter:e,key:n})},e))))},3365:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersControls=void 0;const l=n(2784),a=n(2784),r=n(3542),i=n(5481);t.FiltersControls=({facets:e,filters:t,onChange:n})=>{const[o,s]=(0,a.useState)(-1);return l.createElement(r.Container,{fluid:!0},t.map(((a,c)=>{const u=(0,i.createFilterControl)({facets:e,filter:a,onChangeFilter:e=>{const l=t.concat();l[c]=e,n(l)}});return u?l.createElement(r.Row,{className:"facet",key:c.toFixed()},l.createElement(r.Col,{xs:12},l.createElement(r.Card,null,l.createElement(r.CardHeader,{onClick:()=>s(o===c?-1:c),style:{cursor:"pointer"}},a.label),l.createElement(r.Collapse,{isOpen:o===c},l.createElement(r.CardBody,{className:"p-0"},u))))):null})))}},9210:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LicenseLink=void 0;const l=n(2784);t.LicenseLink=({license:e})=>{if(!e)return null;if("string"===typeof e)return l.createElement("span",null,e);const t=e;return l.createElement("a",{href:t.uri},t.title)}},1053:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarSearchForm=void 0;const l=n(3542),a=n(2784),r=n(1435),i=n(5096);t.NavbarSearchForm=({onSearch:e})=>{const[t,n]=a.useState("");return a.createElement(l.Form,{className:"row my-2 my-lg-0",onSubmit:n=>{n.preventDefault(),e(t)}},a.createElement(l.Col,null,a.createElement(l.InputGroup,null,a.createElement(l.Input,{className:"form-control",onChange:e=>n(e.target.value),placeholder:"Search",style:{width:"24em"},type:"search",value:t}),a.createElement(l.Button,{className:"btn-outline-success my-2 my-sm-0",type:"submit"},a.createElement(r.FontAwesomeIcon,{icon:i.faSearch})))))}},2206:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;const l=n(2784),a=n(3542);t.Pagination=({count:e,firstPageText:t,lastPageText:n,nextPageText:r,onChange:i,page:o,previousPageText:s})=>l.createElement(a.Pagination,null,l.createElement(a.PaginationItem,null,l.createElement(a.PaginationLink,{first:!0,onClick:e=>i(e,1)},null!==t&&void 0!==t?t:"\xab")),l.createElement(a.PaginationItem,null,l.createElement(a.PaginationLink,{disabled:1===o,previous:!0,onClick:e=>i(e,o-1)},null!==s&&void 0!==s?s:"\u2039")),[...Array(e).keys()].map((e=>l.createElement(a.PaginationItem,{active:e+1===o,key:e},l.createElement(a.PaginationLink,{onClick:t=>i(t,e+1)},e+1)))),l.createElement(a.PaginationItem,null,l.createElement(a.PaginationLink,{disabled:o+1>e,next:!0,onClick:e=>i(e,o+1)},null!==r&&void 0!==r?r:"\u203a")),l.createElement(a.PaginationItem,null,l.createElement(a.PaginationLink,{last:!0,onClick:t=>i(t,e)},null!==n&&void 0!==n?n:"\xbb")))},1184:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RightsParagraph=void 0;const l=n(2784),a=n(2784),r=n(1450),i=n(9210);t.RightsParagraph=({material:e,rights:t,style:n})=>{const o=(0,a.useMemo)((()=>{const e=[],n=t=>{e.length>0&&e.push(l.createElement("span",{key:e.length},"\xa0\u2022\xa0")),e.push(l.createElement("span",{key:e.length},t))};for(const a of t.creators)n(l.createElement("span",null,l.createElement("i",null,"Creator"),": ",a.toString()));t.statement&&n(l.createElement("span",null,l.createElement("i",null,"Statement"),":"," ",l.createElement(r.RightsStatementLink,{rightsStatement:t.statement})));for(const a of t.holders)n(l.createElement("span",null,l.createElement("i",null,"Holder"),": ",a.toString()));return t.license&&n(l.createElement("span",null,l.createElement("i",null,"License"),": ",l.createElement(i.LicenseLink,{license:t.license}))),e}),[t]);return l.createElement("p",{style:n},e," rights: ",o)}},1450:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RightsStatementLink=void 0;const l=n(2784);t.RightsStatementLink=({rightsStatement:e})=>{if(!e)return null;if("string"===typeof e)return l.createElement("span",null,e);const t=e;return l.createElement("a",{href:t.uri},t.prefLabel)}},7953:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RightsTable=void 0;const l=n(2784),a=n(3542),r=n(1450),i=n(9210),o=({cellClassName:e,cellStyle:t,label:n,rowClassName:a,rowStyle:r,value:i})=>i?l.createElement("tr",{className:a,style:r},l.createElement("td",{className:e,style:t},l.createElement("strong",null,n)),l.createElement("td",{className:e},i)):null;t.RightsTable=({cellClassName:e,cellStyle:t,rights:n,rowClassName:s,rowStyle:c,tableClassName:u,tableStyle:m})=>{const d={cellClassName:e,cellStyle:t,rowClassName:s,rowStyle:c};return l.createElement(a.Table,{className:u,size:"sm",style:m},l.createElement("tbody",null,l.createElement(o,Object.assign({},d,{label:"Statement",value:l.createElement(r.RightsStatementLink,{rightsStatement:n.statement})})),n.creators.map(((e,t)=>l.createElement(o,Object.assign({},d,{key:"creator"+t.toString(),label:"Creator",value:e.toString()})))),n.holders.map(((e,t)=>l.createElement(o,Object.assign({},d,{key:"holder"+t.toString(),label:"Holder",value:e.toString()})))),l.createElement(o,Object.assign({},d,{label:"License",value:l.createElement(i.LicenseLink,{license:n.license})}))))}},141:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueFilterBadges=void 0;const l=n(2784),a=n(3542);class r extends l.Component{render(){var e,t;const{facet:n,filter:r}=this.props,i=[];return r.excludeKnown&&i.push(l.createElement("h5",{className:"d-inline-block ms-2",key:`${r.label}-excludeKnown`},l.createElement(a.Badge,{className:"p-2",color:"warning",pill:!0},"Exclude\xa0",r.label,": Known"))),r.excludeUnknown&&i.push(l.createElement("h5",{className:"d-inline-block ms-2",key:`${r.label}-excludeUnknown`},l.createElement(a.Badge,{className:"p-2",color:"warning",pill:!0},"Exclude\xa0",r.label,": Unknown"))),(null!==(e=r.excludeValues)&&void 0!==e?e:[]).forEach(((e,t)=>{var o,s;i.push(l.createElement("h5",{className:"d-inline-block ms-2",key:`${r.label}-excludeValue-${t}`},l.createElement(a.Badge,{className:"p-2",color:"warning",pill:!0},"Exclude\xa0",r.label,":\xa0",null!==(s=null===(o=null===n||void 0===n?void 0:n.values.find((t=>t.value===e)))||void 0===o?void 0:o.label)&&void 0!==s?s:e)))})),(null!==(t=r.includeValues)&&void 0!==t?t:[]).forEach(((e,t)=>{var o,s;i.push(l.createElement("h5",{className:"d-inline-block ms-2",key:`${r.label}-includeValue-${t}`},l.createElement(a.Badge,{className:"p-2",color:"warning",pill:!0},"Include\xa0",r.label,":\xa0",null!==(s=null===(o=null===n||void 0===n?void 0:n.values.find((t=>t.value===e)))||void 0===o?void 0:o.label)&&void 0!==s?s:e)))})),l.createElement(l.Fragment,null,i)}}t.ValueFilterBadges=r},9546:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueFilterControl=void 0;const l=n(2784),a=n(2784),r=n(4671),i=n(3542),o=n(1435),s=n(5096),c=n(1605);t.ValueFilterControl=e=>{const{facet:t,filter:n,onChange:u}=e,[m,d]=(0,a.useState)(!1),g=(0,a.useCallback)((()=>d(!m)),[m]),h=l.createElement(r.ValueFilterTable,{facet:t,filter:n,onChange:u});return t.values.some((e=>!!e.thumbnail))?l.createElement(l.Fragment,null,l.createElement(i.Container,{fluid:!0},l.createElement(i.Row,{className:"mt-2"},l.createElement(i.Col,{className:"d-flex justify-content-end",xs:12},l.createElement(i.Button,{color:"primary",onClick:()=>d(!0),title:"gallery view"},l.createElement(o.FontAwesomeIcon,{icon:s.faImages})))),l.createElement(i.Row,null,l.createElement(i.Col,{className:"px-0",xs:12},h))),l.createElement(i.Modal,{centered:!0,isOpen:m,keyboard:!0,toggle:g},l.createElement(i.ModalHeader,{toggle:g},n.label),l.createElement(i.ModalBody,null,l.createElement(c.ValueFilterGallery,{facet:t,filter:n,onChange:u})))):h}},1605:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueFilterGallery=void 0;const l=n(2784),a=n(2784),r=n(5578),i=n(7919),o=n(2779),s=n(3542),c=n(3809),u=e=>{var t;const{filterState:n,onChange:c,value:u}=e,m=u.thumbnail?u.thumbnail.src:r.Image.placeholderSrc(i.thumbnailTargetDimensions),d=(0,a.useCallback)((()=>{n.includesValue(u.value)?n.excludeValue(u.value):n.includeValue(u.value),c(n.snapshot)}),[n,u]),[g,h]=(0,a.useState)(""),f=(0,a.useCallback)((e=>{h(e===g?"":e)}),[g]);return l.createElement(s.Card,{className:(0,o.default)({"border-info":n.includesValue(u.value),"mb-4":!0,"me-4":!0,"text-center":!0}),style:{borderWidth:"4px"}},l.createElement(s.CardHeader,null,l.createElement(s.FormGroup,{check:!0},l.createElement(s.Label,{check:!0},l.createElement(s.Input,{type:"checkbox",checked:n.includesValue(u.value),onChange:d}),u.label))),l.createElement("a",{onClick:d},l.createElement(s.CardImg,{src:m,style:{height:i.thumbnailTargetDimensions.height,marginBottom:"20px",marginTop:"20px",width:i.thumbnailTargetDimensions.width},title:null!==(t=u.label)&&void 0!==t?t:u.value.toString()})),u.thumbnail&&u.thumbnail.rights?l.createElement(s.CardBody,null,l.createElement(s.Accordion,{open:g,toggle:f},l.createElement(s.AccordionItem,null,l.createElement(s.AccordionHeader,{targetId:"0"},"Image rights"),l.createElement(s.AccordionBody,{accordionId:"0"},l.createElement("table",{style:{fontSize:"xx-small"}},Object.keys(u.thumbnail.rights).map((e=>{const t=u.thumbnail.rights[e];if(t)return l.createElement("tr",null,l.createElement("td",{style:{padding:0,textAlign:"left"}},l.createElement("strong",null,e[0].toUpperCase()+e.substring(1))),l.createElement("td",{style:{padding:0,textAlign:"left"}},t))}))))))):null)};t.ValueFilterGallery=e=>{const{facet:t,filter:n,onChange:r}=e,i=(0,a.useMemo)((()=>new c.ValueFilterState({filter:n,valueUniverse:t.values.map((e=>e.value))})),[t,n]);return l.createElement(l.Fragment,null,t.values.map((e=>l.createElement("div",{key:e.value.toString(),style:{marginLeft:"20px",marginBottom:"20px"}},l.createElement(u,{filterState:i,onChange:r,value:e})))))}},1709:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkCard=void 0;const l=n(2784),a=n(2784),r=n(5578),i=n(3542),o=n(7919),s=n(1184),c=n(3015),u={fontSize:"xx-small",marginBottom:0};t.WorkCard=({work:e,renderInstitutionLink:t,renderWorkLink:n})=>{var m;const[d,g]=(0,a.useState)(0),h=(0,c.getNamedModelLinks)(e),f=e.thumbnail({targetDimensions:o.thumbnailTargetDimensions}),v=null!==(m=null===f||void 0===f?void 0:f.src)&&void 0!==m?m:r.Image.placeholderSrc(o.thumbnailTargetDimensions),E=[];return E.push({title:"Image",content:l.createElement(i.Card,{className:"border-0 text-center"},l.createElement(i.CardBody,null,l.createElement("img",{src:v,style:{maxHeight:o.thumbnailTargetDimensions.height,maxWidth:o.thumbnailTargetDimensions.width},title:e.title})),f&&f.rights?l.createElement(i.CardFooter,null,l.createElement(s.RightsParagraph,{material:"Image",rights:f.rights,style:u})):null)}),e.abstract&&E.push({title:"Summary",content:l.createElement(i.Card,{className:"border-0"},l.createElement(i.CardBody,{style:{fontSize:"small"}},e.abstract.toString()),e.abstract instanceof r.Text&&e.abstract.rights?l.createElement(i.CardFooter,{className:"text-center"},l.createElement(s.RightsParagraph,{material:"Text",rights:e.abstract.rights,style:u})):null)}),l.createElement(i.Card,{className:"text-center"},l.createElement(i.CardHeader,{tag:"h4"},n(e.uri,l.createElement(l.Fragment,null,e.title)),h.length>0?l.createElement("div",{className:"mt-1",style:{fontSize:"x-small"}},h):null),l.createElement(i.CardBody,null,1===E.length?E[0].content:l.createElement(l.Fragment,null,l.createElement(i.Nav,{tabs:!0},E.map(((e,t)=>l.createElement(i.NavItem,{key:t},l.createElement(i.NavLink,{className:d===t?"active":void 0,onClick:()=>g(t),style:{cursor:"pointer",fontSize:"small"}},e.title))))),l.createElement(i.TabContent,{activeTab:d.toString()},E.map(((e,t)=>l.createElement(i.TabPane,{key:t,tabId:t.toString()},l.createElement("div",{className:"mt-2"},e.content))))))))}},799:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkContainer=void 0;const l=n(5578),a=n(3542),r=n(2784),i=n(2784),o=n(4540),s=n(1184),c=n(4891),u=n(5461),m={fontSize:"x-small",marginBottom:0};t.WorkContainer=({work:e,workLocationsMapComponent:t})=>{const n=(0,i.useMemo)((()=>{var t,n;return null!==(n=null!==(t=e.abstract)&&void 0!==t?t:e.description)&&void 0!==n?n:null}),[e]),d=(0,i.useMemo)((()=>n&&n instanceof l.Text&&n.rights?n.rights:e.rights?e.rights:e.institution.rights),[e,n]),g=[];for(const l of e.agents)g.find((e=>e.agent.uri===l.agent.uri))||g.push(l);const[h,f]=(0,i.useState)(null),[v,E]=(0,i.useState)(0),p=[];let k;e.images.length>0&&p.push({title:"Images",content:r.createElement(a.Card,{className:"border-0"},r.createElement(a.CardBody,{className:"text-center"},r.createElement(o.WorkImagesCarousel,{hideImageRights:!0,key:p.length,onShowImage:f,work:e})),h&&h.rights?r.createElement(a.CardFooter,{className:"text-center"},r.createElement(s.RightsParagraph,{material:"Image",rights:h.rights,style:m})):null)}),g.length>0&&p.push({title:"People",content:r.createElement(a.Container,{fluid:!0,key:p.length},g.map(((e,t)=>r.createElement(a.Row,{className:t>0?"mt-4":"mt-2",key:t},r.createElement(a.Col,{xs:12,className:"p-0"},r.createElement(c.AgentCard,{agent:e.agent,role:e.role}))))))}),e.events.length>0&&p.push({title:"Timeline",content:r.createElement(u.WorkEventsTimeline,{page:0,pageMax:0,setPage:()=>{},workEvents:e.events})}),t&&e.locations.length>0&&p.push({title:"Map",content:r.createElement(t,{workLocations:e.locations.map((t=>({location:t.location,role:t.role,title:t.title,work:{title:e.title,uri:e.uri}})))})}),1===p.length?k=p[0].content:p.length>1&&(k=r.createElement(r.Fragment,null,r.createElement(a.Nav,{tabs:!0},p.map(((e,t)=>r.createElement(a.NavItem,{key:t},r.createElement(a.NavLink,{className:v===t?"active":void 0,onClick:()=>E(t)},e.title))))),r.createElement(a.TabContent,{activeTab:v.toString()},p.map(((e,t)=>r.createElement(a.TabPane,{key:t,tabId:t.toString()},r.createElement("div",{className:"mt-2"},e.content)))))));const y=n?r.createElement(a.Container,{fluid:!0},r.createElement(a.Row,null,"\xa0"),r.createElement(a.Row,{className:"mt-4"},r.createElement(a.Col,{className:"text-wrap",xs:12,dangerouslySetInnerHTML:{__html:n.toString()}}))):null;return r.createElement(a.Container,{fluid:!0},r.createElement(a.Row,null,k?r.createElement(a.Col,{xs:12,sm:12,lg:y?8:12,xl:y?6:12,style:{minHeight:600,minWidth:600}},k):null,r.createElement(a.Col,{className:"d-flex justify-content-center px-0",xs:12,sm:12,lg:k?4:12,xl:k?6:12},y)),n&&d?r.createElement(a.Row,{className:"mt-2"},r.createElement(a.Col,{style:{textAlign:"center"},xs:12},r.createElement(s.RightsParagraph,{material:"Text",rights:d,style:m}))):null)}},5461:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkEventsTimeline=void 0;const l=n(5578),a=n(1531),r=n(5096),i=n(1435),o=n(6557),s=n(2784),c=n(1184);t.WorkEventsTimeline=({page:e,pageMax:t,setPage:n,workEvents:u})=>s.createElement(a.VerticalTimeline,null,u.map((e=>{var t,n;return s.createElement(a.VerticalTimelineElement,{date:null!==(t=e.displayDate)&&void 0!==t?t:void 0,key:e.uri,icon:s.createElement(i.FontAwesomeIcon,{icon:(0,o.getWorkEventIcon)(e)})},s.createElement("h3",null,null!==(n=e.title)&&void 0!==n?n:e.work.title),e.abstract?s.createElement(s.Fragment,null,s.createElement("div",{dangerouslySetInnerHTML:{__html:e.abstract.toString()}}),e.abstract instanceof l.Text&&e.abstract.rights?s.createElement(c.RightsParagraph,{material:"Text",rights:e.abstract.rights,style:{fontSize:"x-small",marginBottom:0}}):null):null)})),e<t?s.createElement(a.VerticalTimelineElement,{iconOnClick:()=>n(e+1),icon:s.createElement(i.FontAwesomeIcon,{icon:r.faEllipsisV})}):null)},4540:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkImagesCarousel=void 0;const l=n(2784),a=n(2784),r=n(3542),i=n(2579),o=n(7953),s={height:600,width:600};t.WorkImagesCarousel=({hideImageRights:e,onShowImage:t,work:n})=>{const c=n.originalImages,u=t=>{var n;const a=t.src;if(!a)return null;const r=t.thumbnail({targetDimensions:s}),c=null===r||void 0===r?void 0:r.src;return r&&c?l.createElement("div",null,l.createElement("div",null,l.createElement(i.default,{image:{className:"img",src:c,style:{maxHeight:s.height,maxWidth:s.width}},zoomImage:{className:"img--zoomed",src:a,style:null!==(n=null===t||void 0===t?void 0:t.exactDimensions)&&void 0!==n?n:void 0}})),!e&&t&&t.rights?l.createElement("div",{className:"mt-2"},l.createElement("h6",{className:"text-center"},"Image rights"),l.createElement(o.RightsTable,{rights:t.rights})):null):l.createElement("img",{className:"img",src:a,style:{maxHeight:s.height,maxWidth:s.width}})};(0,a.useEffect)((()=>{t&&c.length>0&&t(c[0])}),[n]);const[m,d]=(0,a.useState)(0),g=(0,a.useCallback)((()=>{const e=m===c.length-1?0:m+1;d(e),t&&t(c[e])}),[m]),h=(0,a.useCallback)((()=>{const e=0===m?c.length-1:m-1;d(e),t&&t(c[e])}),[m]);return 1===c.length?(console.debug("work",n.uri,"only has one image, rendering without carousel"),u(c[0])):l.createElement(r.Carousel,{activeIndex:m,autoPlay:!1,next:g,previous:h,slide:!1},c.map((e=>{const t=u(e);return t?l.createElement(r.CarouselItem,{key:e.uri},t):null})),l.createElement(r.CarouselControl,{direction:"prev",directionText:"Previous",onClickHandler:h}),l.createElement(r.CarouselControl,{direction:"next",directionText:"Next",onClickHandler:g}))}},6363:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkSearchContainer=void 0;const l=n(3542),a=n(2784),r=n(2784),i=n(6966),o=n(2661),s=n(2206),c=n(7919),u=n(4671),m=n(5610),d=n(3365),g=n(4147),h=n(5461);t.WorkSearchContainer=({onChangeFilters:e,renderInstitutionLink:t,renderWorkLink:n,setWorkAgentsPage:f,setWorkEventsPage:v,setWorksPage:E,workAgentsPage:p,workEventsPage:k,workLocationsMapComponent:y,workQuery:b,workQueryService:w,worksPage:C})=>{const[x,S]=(0,m.useQueryParam)("tab"),P=null!==x&&void 0!==x?x:"works",[_,j]=(0,r.useState)(null),[V,F]=(0,r.useState)(null),[O,N]=(0,r.useState)(null),[M,W]=(0,r.useState)(null),[I,L]=(0,r.useState)(!1),[T,U]=(0,r.useState)(!1),[R,A]=(0,r.useState)(!1),[B,D]=(0,r.useState)(!1);if((0,r.useEffect)((()=>{"works"!==P&&null!==M||B||(console.debug("getWorks"),D(!0),w.getWorks({limit:4,offset:4*C,valueFacetValueThumbnailSelector:{targetDimensions:c.thumbnailTargetDimensions},workJoinSelector:(0,u.workSearchWorkJoinSelector)(c.thumbnailTargetDimensions)},b).then((e=>{console.debug("getWorks result:",e.totalWorksCount),W(e),D(!1)})))}),[x,b,w,C]),(0,r.useEffect)((()=>{"workAgents"!==P||I||(console.debug("getWorkAgents"),L(!0),w.getWorkAgents({agentJoinSelector:{thumbnail:{targetDimensions:c.thumbnailTargetDimensions},works:{}},limit:4,offset:4*p},b).then((e=>{console.debug("getWorkAgents result:",e.totalWorkAgentsCount),j(e),L(!1)})))}),[x,b,w,p]),(0,r.useEffect)((()=>{"workEvents"!==P||T||(console.debug("getWorkEvents"),U(!0),w.getWorkEvents({limit:4*(k+1),offset:0,requireDate:!0,workEventJoinSelector:{work:{}}},b).then((e=>{console.info("getWorkEvents result:",e.totalWorkEventsCount),F(e),U(!1)})))}),[x,b,w,k]),(0,r.useEffect)((()=>{"workLocations"!==P||R||(console.debug("getWorkLocations"),A(!0),w.getWorkLocations({},b).then((e=>{console.debug("getWorkLocations result:",e.workLocations.length),N(e),A(!1)})))}),[x,b,w,p]),null===M)return null;const z=[];return z.push({key:"works",title:"Works",content:a.createElement(l.Container,{fluid:!0},a.createElement(l.Row,null,a.createElement(o.WorksGallery,{works:M.dataset.works,renderInstitutionLink:t,renderWorkLink:n})),a.createElement(l.Row,{className:"mt-4"},a.createElement(l.Col,{className:"d-flex justify-content-center",xs:12},a.createElement(s.Pagination,{count:(0,u.calculatePageMax)({objectsPerPage:4,totalObjects:M.totalWorksCount})+1,page:C+1,onChange:(e,t)=>E(t-1)}))))}),z.push({key:"workAgents",title:"People",content:_?a.createElement(l.Container,{fluid:!0},a.createElement(l.Row,null,a.createElement(g.AgentsGallery,{agents:_.workAgentUris.map((e=>_.dataset.agentByUri(e)))})),a.createElement(l.Row,{className:"mt-4"},a.createElement(l.Col,{className:"d-flex justify-content-center",xs:12},a.createElement(s.Pagination,{count:(0,u.calculatePageMax)({objectsPerPage:4,totalObjects:_.totalWorkAgentsCount})+1,page:p+1,onChange:(e,t)=>f(t-1)})))):null}),z.push({key:"workEvents",title:"Timeline",content:V?a.createElement(h.WorkEventsTimeline,{page:k,pageMax:(0,u.calculatePageMax)({objectsPerPage:4,totalObjects:V.totalWorkEventsCount}),setPage:v,workEvents:V.workEventUris.map((e=>V.dataset.workEventByUri(e)))}):null}),y&&z.push({key:"workLocations",title:"Map",content:O&&O.workLocations.length>0?a.createElement(y,{workLocations:O.workLocations}):null}),a.createElement(l.Container,{fluid:!0},M.totalWorksCount>0?a.createElement(a.Fragment,null,a.createElement(l.Row,null,a.createElement(l.Col,{className:"d-flex justify-content-between",xs:12},a.createElement("h4",null,a.createElement("span",null,M.totalWorksCount),"\xa0",a.createElement("span",null,1===M.totalWorksCount?"work":"works"),"\xa0",b.text?a.createElement("span",null,"matching ",a.createElement("i",null,b.text)):a.createElement("span",null,"matched")),b.filters.length>0?a.createElement("div",null,a.createElement(i.FiltersBadges,{facets:M.facets,filters:b.filters})):null)),a.createElement(l.Row,null,a.createElement(l.Col,{xs:12},a.createElement("hr",null)))):null,a.createElement(l.Row,null,a.createElement(l.Col,{xs:"2"},a.createElement(d.FiltersControls,{facets:M.facets,filters:b.filters,onChange:e})),a.createElement(l.Col,{xs:"10"},1===z.length?z[0].content:a.createElement(a.Fragment,null,a.createElement(l.Nav,{tabs:!0},z.map((e=>a.createElement(l.NavItem,{key:e.key},a.createElement(l.NavLink,{className:P===e.key?"active":void 0,onClick:()=>S(e.key),style:{cursor:"pointer",fontSize:"small"}},e.title))))),a.createElement(l.TabContent,{activeTab:P},z.map((e=>a.createElement(l.TabPane,{key:e.key,tabId:e.key},a.createElement("div",{className:"mt-2"},e.content)))))))))}},2661:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WorksGallery=void 0;const l=n(2784),a=n(1709);t.WorksGallery=({works:e,renderInstitutionLink:t,renderWorkLink:n})=>l.createElement(l.Fragment,null,e.map((e=>l.createElement("div",{key:e.uri,style:{marginLeft:"20px",marginBottom:"20px",width:"400px"}},l.createElement(a.WorkCard,{work:e,renderInstitutionLink:t,renderWorkLink:n})))))},5481:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createFilterControl=void 0;const l=n(2784),a=n(4671),r=n(9546);t.createFilterControl=({facets:e,filter:t,onChangeFilter:n})=>(0,a.createFilterControl)({facets:e,filter:t,factory:{createCollectionValueFilterControl:(e,t)=>l.createElement(r.ValueFilterControl,{facet:e,filter:t,onChange:n}),createInstitutionValueFilterControl:(e,t)=>l.createElement(r.ValueFilterControl,{facet:e,filter:t,onChange:n}),createStringPropertyValueFilterControl:(e,t)=>l.createElement(r.ValueFilterControl,{facet:e,filter:t,onChange:n})}})},3015:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getNamedModelLinks=void 0;const l=n(2784);t.getNamedModelLinks=e=>{const{page:t,wikidataConceptUri:n,wikipediaUrl:a}=e,r=[];for(const i of[{href:t,text:"Home page"},{href:n,text:"Wikidata"},{href:a,text:"Wikipedia"}])i.href&&(r.length>0&&r.push(l.createElement("span",{key:r.length},"\xa0\u2022\xa0")),r.push(l.createElement("a",{href:i.href,key:r.length},i.text)));return r}},6557:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkEventIcon=void 0;const l=n(5578),a=n(5096);t.getWorkEventIcon=e=>(0,l.visitWorkEvent)(e,{visitWorkCreation:e=>a.faLightbulb})},2304:function(e,t,n){var l=this&&this.__createBinding||(Object.create?function(e,t,n,l){void 0===l&&(l=n),Object.defineProperty(e,l,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,l){void 0===l&&(l=n),e[l]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||l(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(4891),t),a(n(5481),t),a(n(3365),t),a(n(6966),t),a(n(3015),t),a(n(6557),t),a(n(9210),t),a(n(1053),t),a(n(2206),t),a(n(1450),t),a(n(1184),t),a(n(7953),t),a(n(7919),t),a(n(141),t),a(n(1709),t),a(n(799),t),a(n(5461),t),a(n(4540),t),a(n(2661),t),a(n(6363),t)},7919:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.thumbnailTargetDimensions=void 0,t.thumbnailTargetDimensions={height:200,width:200}},7937:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},7063:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},7853:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},9779:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},3646:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},5546:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},4508:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},6440:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},757:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueFilterState=void 0;t.ValueFilterState=class{constructor(e){if(this.initialFilter=e.filter,this.valueUniverse=e.valueUniverse,this._includeUnknown=!this.initialFilter.excludeUnknown,this.initialFilter.excludeKnown?(this.excludeValueSet=new Set(this.valueUniverse),this.includeValueSet=new Set):(this.excludeValueSet=this.initialFilter.excludeValues?new Set(this.initialFilter.excludeValues):new Set,this.includeValueSet=this.initialFilter.includeValues?new Set(this.initialFilter.includeValues):new Set),this.valueUniverse.forEach((e=>{var t;if(this.excludeValueSet.has(e)){if(this.includeValueSet.has(e))throw new RangeError("value ${valueId} both included and excluded")}else this.includeValueSet.has(e)||((null===(t=this.initialFilter)||void 0===t?void 0:t.includeValues)&&this.initialFilter.includeValues.length>0?this.excludeValueSet.add(e):this.includeValueSet.add(e))})),this.includeValueSet.size+this.excludeValueSet.size!==this.valueUniverse.length)throw new RangeError("sets should account for all values")}change(e,t){if(this.excludeValueSet.delete(t),this.includeValueSet.delete(t),e?this.includeValueSet.add(t):this.excludeValueSet.add(t),this.includeValueSet.size+this.excludeValueSet.size!==this.valueUniverse.length)throw new RangeError("sets should account for all values")}excludeAll(){this.excludeKnown(),this.excludeUnknown=!0}excludeKnown(){for(const e of this.valueUniverse)this.excludeValue(e)}get excludeUnknown(){return!this.includeUnknown}set excludeUnknown(e){this._includeUnknown=!e}excludeValue(e){this.change(!1,e)}includeAll(){this.includeKnown(),this.includeUnknown=!0}includeKnown(){for(const e of this.valueUniverse)this.includeValue(e)}get includeUnknown(){return this._includeUnknown}set includeUnknown(e){this._includeUnknown=e}includeValue(e){this.change(!0,e)}includesValue(e){return this.includeValueSet.has(e)}get snapshot(){let e,t,n;if(this.includeValueSet.size===this.valueUniverse.length);else if(this.excludeValueSet.size===this.valueUniverse.length)e=!0;else if(this.includeValueSet.size>=this.excludeValueSet.size){if(0===this.excludeValueSet.size)throw new RangeError("must explicitly exclude");t=[...this.excludeValueSet]}else{if(0===this.includeValueSet.size)throw new EvalError("must explicitly include");n=[...this.includeValueSet]}return JSON.parse(JSON.stringify(Object.assign(Object.assign({},this.initialFilter),{excludeKnown:e,excludeUnknown:!!this.excludeUnknown||void 0,excludeValues:t,includeValues:n})))}}},3809:function(e,t,n){var l=this&&this.__createBinding||(Object.create?function(e,t,n,l){void 0===l&&(l=n),Object.defineProperty(e,l,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,l){void 0===l&&(l=n),e[l]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||l(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(7937),t),a(n(7063),t),a(n(7853),t),a(n(9779),t),a(n(3646),t),a(n(5546),t),a(n(4508),t),a(n(6440),t),a(n(757),t)},8698:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.visitFilter=void 0;t.visitFilter=(e,t,n)=>{switch(e.type){case"CollectionValue":{const l=e,a=null===n||void 0===n?void 0:n.find((e=>"CollectionValue"===e.type));return!a&&n&&console.warn("no matching facet for filter on collections"),t.visitCollectionValueFilter(l,a)}case"InstitutionValue":{const l=e,a=null===n||void 0===n?void 0:n.find((e=>"InstitutionValue"===e.type));return!a&&n&&console.warn("no matching facet for filter on institutions"),t.visitInstitutionValueFilter(l,a)}case"StringPropertyValue":{const l=e,a=null===n||void 0===n?void 0:n.find((e=>"StringPropertyValue"===e.type&&e.propertyUri===l.propertyUri));return!a&&n&&console.warn("no matching facet for filter on property",l.propertyUri),t.visitStringPropertyValueFilter(l,a)}default:throw new EvalError("unsupported filter type: "+e.type)}}},1484:function(e,t,n){var l=this&&this.__createBinding||(Object.create?function(e,t,n,l){void 0===l&&(l=n),Object.defineProperty(e,l,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,l){void 0===l&&(l=n),e[l]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ValueFilterTable=void 0;const o=r(n(2784)),s=n(2784),c=i(n(704)),u=n(3809);t.ValueFilterTable=e=>{const{facet:t,filter:n,onChange:l}=e,a=(0,s.useMemo)((()=>new u.ValueFilterState({filter:n,valueUniverse:t.values.map((e=>e.value))})),[t,n]),r=(0,s.useMemo)((()=>[{name:"Label",selector:e=>e.label,sortable:!0},{name:"Count",selector:e=>e.count,sortable:!0}]),[]),i=(0,s.useMemo)((()=>{var e;const n=[];n.push({count:t.unknownCount,id:"unknown",label:"Unknown",selected:a.includeUnknown});for(const l of t.values)n.push({count:l.count,id:l.value.toString(),label:null!==(e=l.label)&&void 0!==e?e:l.value.toString(),selected:a.includesValue(l.value),value:l.value});return n}),[t,a]),m=(0,s.useCallback)((e=>{const{allSelected:t,selectedRows:n}=e;if(t)a.includeAll();else{a.excludeAll();for(const e of n)"undefined"!==typeof e.value?a.includeValue(e.value):a.includeUnknown=!0}l(a.snapshot)}),[a]);return o.createElement(c.default,{columns:r,data:i,noContextMenu:!0,noHeader:!0,selectableRows:!0,onSelectedRowsChange:m,selectableRowSelected:e=>e.selected,striped:!0})}},4660:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePageMax=void 0;t.calculatePageMax=e=>Math.ceil(e.totalObjects/e.objectsPerPage)-1},7705:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createFilterControl=void 0;const l=n(8698);t.createFilterControl=e=>{const{facets:t,factory:n,filter:a}=e;return(0,l.visitFilter)(a,{visitCollectionValueFilter:(e,t)=>t?t.values.length+(t.unknownCount?1:0)<=1?null:n.createCollectionValueFilterControl(t,e):null,visitInstitutionValueFilter:(e,t)=>t?t.values.length+(t.unknownCount?1:0)<=1?null:n.createInstitutionValueFilterControl(t,e):null,visitStringPropertyValueFilter:(e,t)=>t?t.values.length+(t.unknownCount?1:0)<=1?null:n.createStringPropertyValueFilterControl(t,e):null},t)}},4671:function(e,t,n){var l=this&&this.__createBinding||(Object.create?function(e,t,n,l){void 0===l&&(l=n),Object.defineProperty(e,l,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,l){void 0===l&&(l=n),e[l]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||l(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(4660),t),a(n(7705),t),a(n(8698),t),a(n(7894),t),a(n(2176),t),a(n(7058),t),a(n(1484),t),a(n(8163),t)},7894:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.usePageQueryParam=void 0;const l=n(5610);t.usePageQueryParam=e=>{const[t,n]=(0,l.useQueryParam)(e,l.NumberParam);return[null!==t&&void 0!==t?t:0,n]}},2176:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useWorkQueryParam=void 0;const l=n(5610),a=n(6169);t.useWorkQueryParam=(e,t)=>{const[n,r]=(0,l.useQueryParam)(t,new a.JsonQueryParamConfig);return[null!==n&&void 0!==n?n:e,r]}},7058:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useWorkSearchQueryParams=void 0;const l=n(2176),a=n(7894);t.useWorkSearchQueryParams=e=>{var t,n;const[r,i]=(0,a.usePageQueryParam)("workAgentsPage"),[o,s]=(0,a.usePageQueryParam)("workEventsPage"),[c,u]=(0,a.usePageQueryParam)("worksPage"),[m,d]=(0,l.useWorkQueryParam)({filters:null!==(n=null===(t=e.search)||void 0===t?void 0:t.filters)&&void 0!==n?n:[]},"query");return{onChangeFilters:e=>{i(void 0),s(void 0),u(void 0),d(Object.assign(Object.assign({},m),{filters:e}))},onSearch:e=>{i(void 0),s(void 0),u(void 0),d(Object.assign(Object.assign({},m),{text:e}))},setWorkAgentsPage:i,setWorkEventsPage:s,setWorkQuery:d,setWorksPage:u,workAgentsPage:r,workEventsPage:o,workQuery:m,worksPage:c}}},8163:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.workSearchWorkJoinSelector=void 0;t.workSearchWorkJoinSelector=e=>({agents:{thumbnail:{targetDimensions:e}},collections:{},events:{agents:{},work:{}},institution:{},propertyNamedValues:{thumbnail:{targetDimensions:e}},thumbnail:{targetDimensions:e}})},138:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.JsonQueryParamConfig=void 0;t.JsonQueryParamConfig=class{encode(e){return e?JSON.stringify(e):void 0}decode(e){return e?JSON.parse(e):void 0}equals(e,t){return JSON.stringify(e)===JSON.stringify(t)}}},6169:function(e,t,n){var l=this&&this.__createBinding||(Object.create?function(e,t,n,l){void 0===l&&(l=n),Object.defineProperty(e,l,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,l){void 0===l&&(l=n),e[l]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||l(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(138),t)},6627:function(e,t,n){n.d(t,{A:function(){return m}});var l=n(2322),a=(n(2784),n(3241)),r=n(8140),i=n(2304),o=n(5632),s=n(9097),c=n(7729),u=n(5523),m=function(e){var t,n,m=e.cardHeaderLinks,d=e.cardTitle,g=e.collection,h=e.children,f=e.documentTitle,v=e.configuration,E=e.onSearch,p=(0,o.useRouter)();return v.search&&(t=E||function(e){var t,n=a.P.collection({filters:null!==(t=v.search.filters)&&void 0!==t?t:[],text:e}).toString();return console.info("redirecting to search href",n),p.push(n),null}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(c.default,{children:[(0,l.jsx)("title",{children:g.title+(f?" - "+f:"")}),(0,l.jsx)("link",{rel:"stylesheet",href:null!==(n=v.bootstrapStylesheetHref)&&void 0!==n?n:u.defaultAppConfiguration.bootstrapStylesheetHref})]}),(0,l.jsxs)(r.W2,{fluid:!0,children:[(0,l.jsx)(r.X2,{children:(0,l.jsx)(r.JX,{children:(0,l.jsxs)(r.wp,{children:[(0,l.jsx)(r.UG,{className:"me-auto",tag:"div",children:(0,l.jsx)(s.default,{href:a.P.home,children:g.title})}),t?(0,l.jsx)(r.JL,{navbar:!0,children:(0,l.jsx)(r.LY,{children:(0,l.jsx)(i.NavbarSearchForm,{onSearch:t})})}):null]})})}),(0,l.jsx)(r.X2,{children:(0,l.jsx)(r.JX,{children:(0,l.jsxs)(r.Zb,{children:[d||f?(0,l.jsxs)(r.Ol,{className:"text-center",tag:"h3",children:[(0,l.jsx)("div",{children:null!==d&&void 0!==d?d:f}),m&&m.length>0?(0,l.jsx)("div",{className:"mt-1",style:{fontSize:"x-small"},children:m}):null]}):null,(0,l.jsx)(r.eW,{children:h})]})})})]})]})}},3241:function(e,t,n){n.d(t,{P:function(){return i}});var l=n(9056),a=n(9126);function r(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"collection",value:function(e){return"/"+a.stringify({query:JSON.stringify(e)},{addQueryPrefix:!0})}},{key:"home",get:function(){return e.collection()}},{key:"work",value:function(e){return"/work/".concat((0,l.encodeFileName)(e),"/")}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}()}}]);
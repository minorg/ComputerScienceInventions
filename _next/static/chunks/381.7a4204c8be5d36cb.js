"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[381],{3381:function(n,t,e){e.r(t),e.d(t,{WorkLocationsMap:function(){return k}});var r=e(2322),o=e(2784);const u=(0,o.createContext)(null),c=u.Provider;function i(){const n=(0,o.useContext)(u);if(null==n)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}var l=e(5062);function a(){return(a=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function s(n){let{children:t,className:e,id:r,placeholder:u,style:i,whenCreated:s,...f}=n;const p=(0,o.useRef)(null),d=function(n,t){const[e,r]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(null!==n.current&&null===e){const e=new l.Map(n.current,t);null!=t.center&&null!=t.zoom?e.setView(t.center,t.zoom):null!=t.bounds&&e.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&e.whenReady(t.whenReady),r(e)}}),[n,e,t]),e}(p,f),h=(0,o.useRef)(!1);(0,o.useEffect)((()=>{null!=d&&!1===h.current&&null!=s&&(h.current=!0,s(d))}),[d,s]),(0,o.useEffect)((()=>()=>{null==d||d.remove()}),[d]);const[v]=(0,o.useState)({className:e,id:r,style:i}),y=(0,o.useMemo)((()=>d?{__version:1,map:d}:null),[d]),g=y?o.createElement(c,{value:y},t):u??null;return o.createElement("div",a({},v,{ref:p}),g)}var f=e(8316);function p(n,t){return null==t?function(t,e){return(0,o.useRef)(n(t,e))}:function(e,r){const u=(0,o.useRef)(n(e,r)),c=(0,o.useRef)(e),{instance:i}=u.current;return(0,o.useEffect)((function(){c.current!==e&&(t(i,e,c.current),c.current=e)}),[i,e,r]),u}}function d(n,t){const e=(0,o.useRef)(t);(0,o.useEffect)((function(){t!==e.current&&null!=n.attributionControl&&(null!=e.current&&n.attributionControl.removeAttribution(e.current),null!=t&&n.attributionControl.addAttribution(t)),e.current=t}),[n,t])}function h(n,t){const e=(0,o.useRef)();(0,o.useEffect)((function(){return null!=t&&n.instance.on(t),e.current=t,function(){null!=e.current&&n.instance.off(e.current),e.current=null}}),[n,t])}function v(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function y(n){return function(t){const e=i(),r=n(v(t,e),e);return d(e.map,t.attribution),h(r.current,t.eventHandlers),function(n,t){(0,o.useEffect)((function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var e;null==(e=t.layerContainer)||e.removeLayer(n.instance),t.map.removeLayer(n.instance)}}),[t,n])}(r.current,e),r}}const g=function(n){function t(t,e){const{instance:r}=n(t).current;return(0,o.useImperativeHandle)(e,(()=>r)),null}return(0,o.forwardRef)(t)}(y(p((function(n,t){let{url:e,...r}=n;return{instance:new l.TileLayer(e,v(r,t)),context:t}}),(function(n,t,e){const{opacity:r,zIndex:o}=t;null!=r&&r!==e.opacity&&n.setOpacity(r),null!=o&&o!==e.zIndex&&n.setZIndex(o)}))));const m=function(n,t){return function(n){function t(t,e){const{instance:r,context:u}=n(t).current;return(0,o.useImperativeHandle)(e,(()=>r)),null==t.children?null:o.createElement(c,{value:u},t.children)}return(0,o.forwardRef)(t)}(y(p(n,t)))}((function(n,t){let{position:e,...r}=n;const o=new l.Marker(e,r);return{instance:o,context:{...t,overlayContainer:o}}}),(function(n,t,e){t.position!==e.position&&n.setLatLng(t.position),null!=t.icon&&t.icon!==e.icon&&n.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==e.zIndexOffset&&n.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==e.opacity&&n.setOpacity(t.opacity),null!=n.dragging&&t.draggable!==e.draggable&&(!0===t.draggable?n.dragging.enable():n.dragging.disable())})),w=function(n,t){return function(n){function t(t,e){const[r,u]=(0,o.useState)(!1),{instance:c}=n(t,u).current;(0,o.useImperativeHandle)(e,(()=>c)),(0,o.useEffect)((function(){r&&c.update()}),[c,r,t.children]);const i=c._contentNode;return i?(0,f.createPortal)(t.children,i):null}return(0,o.forwardRef)(t)}(function(n,t){return function(e,r){const o=i(),u=n(v(e,o),o);return d(o.map,e.attribution),h(u.current,e.eventHandlers),t(u.current,o,e,r),u}}(p(n),t))}((function(n,t){return{instance:new l.Tooltip(n,t.overlayContainer),context:t}}),(function(n,t,e,r){const{onClose:u,onOpen:c,position:i}=e;(0,o.useEffect)((function(){const e=t.overlayContainer;if(null==e)return;const{instance:o}=n,l=n=>{n.tooltip===o&&(i&&o.setLatLng(i),o.update(),r(!0),null==c||c())},a=n=>{n.tooltip===o&&(r(!1),null==u||u())};return e.on({tooltipopen:l,tooltipclose:a}),e.bindTooltip(o),function(){e.off({tooltipopen:l,tooltipclose:a}),null!=e._map&&e.unbindTooltip()}}),[n,t,r,u,c,i])}));var b=e(5632),x=e(3241),C=e(5096),E=e(1435),R=function(n){switch(n.role){case"Creation":return C.faLightbulb}},k=function(n){n.renderWorkLink;var t=n.workLocations;if(0===t.length)return null;var e,o=(0,b.useRouter)();return(0,r.jsxs)(s,{center:[t[0].location.lat,t[0].location.long],style:{height:"600px"},zoom:13,children:[(0,r.jsx)(g,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map((function(n,t){return(0,r.jsx)(m,{eventHandlers:{click:function(){return o.push(x.P.work(n.work.uri))}},position:[n.location.lat,n.location.long],children:(0,r.jsxs)(w,{direction:"right",interactive:!0,offset:[0,0],opacity:1,permanent:!0,children:[(0,r.jsx)(E.FontAwesomeIcon,{icon:R(n),style:{height:"16px",width:"16px"}}),null!==(e=n.title)&&void 0!==e?e:n.work.title]})},t)}))]})}}}]);